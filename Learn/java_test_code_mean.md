# 테스트 코드 

## 테스트란?

- 기능을 개발했는데 잘 구현되었는지 어떻게 확인할 수 있을까?
- 기능을 개발한 후 잘 구현되었는지 테스트 코드를 작성하고 리팩토링을 통해 향상시킬 수 있다.
- 의도된 대로 정확히 작동하는지 검증하는 절차이다.

## 테스트 코드의 절차

- 소스코드가 있고, 요구사항(함수, 특정한 기능, UI, 성능, API 스펙)에 따라서 다양한 테스트가 있다.
- 모든 테스트가 패스되면 끝이다.
- Fail된 데스트는 Modify or fix 해야한다.

## 장점

- 개발 과정 중 예상치 못한 문제를 미리 발견할 수 있다. (에러를 클라이언트 보다 빨리 발견 할 수 있다.)
- 작성한 코드가 의도한 대로 작동하는지 검증할 수 있다.
- 코드 변경에 대한 사이드 이펙트를 줄이는 예방책이다.
- 코드 수정이 필요한 상황에서 유연하고 안정적인 대응을 할 수 있게해준다.
- 코드의 모듈화를 한번더 고민하게 해준다.
- 코드 변경 시, 변경 부분으로 인한 영향도를 쉽게 파악할 수 있다.
- 코드 리팩토링 시 기능 구현이 동일하게 되었다는 판단을 내릴 수 있다.
(예를 들어 버전업을 하면서 현재 구현된 기능이 제대로 버전업에서도 동일하게 구현되게 한다.)
- 테스트 코드를 통해 동작하는 방식 및 결과 확인이 가능하다.

## 테스트코드의 이점

- 이것을 위해서 테스트가 항상 실패없이 실행되도록 유지해야 한다.
- CI(지속적인 통합)를 통해 주기적으로 테스트 코드 유효성을 확인해야한다.
- 정기적인 빌드를 통해 테스트가 실패하는 케이스를 찾아낸다.

## 테스트의 종류

### 유닛 테스트

- 클래스 범주 내에서 작은 단위 (함수)의 기능에 대한 유효성을 검증하는 테스트이다.
- 단위 테스트는 매우 간단하고 명확하며 빠르게 실행된다는 특징이있다.
- 하나의 함수에 대한 하나 이상의 테스트가 존재할 수 있고, 각각의 조건에 대한 유효성을 검증한다.
- **Mock 등을 이용한다.**

### 통합테스트

- 서로 다른 모듈 혹은 클래스 간 상호작용의 유효성을 검사하는 테스트.
- 이러한 통합 테스트가 필요한 이유는 각각 단위 테스트가 검증되었다 하더라도, 모듈 간 인터페이스 및 데이터 흐름이 의도한 대로 작동하지 않는 경우도 있기 때문.
- 통합 테스트는 각 모듈에 대한 설정 또는 테스트를 하기 위해 사전 조건이 필요한 경우도 있기 때문이다.
- 단위 테스트보다 테스트 코드를 작성하기가 복잡하다.
- 하지만 단위 테스트 보다 더 넓은 범위의 종속성까지 테스트함으로써 단위 테스트 보다 좀 더 유의미한 테스트가 되는 경우가 많다.
- **SpringBootTest 어노테이션을 사용해 모든 의존성을 가져와 테스트 함**